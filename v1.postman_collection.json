{
	"info": {
		"_postman_id": "2bdeffdb-a2e0-4678-9ba5-60c53e02387f",
		"name": "v1",
		"description": "Welcome to Garuda Stablecoin API Docs.\nThis document is for internal use only. You are prohibited from sharing all contents of this documents to any external third party without Elbert's / Dendi's permission.\n\nAll endpoints return either a JSON object or array regardless of success / error response.\n\nNote: All request headers `x-mock-*` are postman related. Please disregard this headers in your code.\n\nThis API docs is still a draft. Thus, if you spot any mistake, typo, or just something what wouldn't make sense, let me (Elbert) know. Example of things that doesn't make sense:\n1. Double slash in endpoint.\n2. Different parameter name between request body and `parameters` table.\n3. Inconsistencies (e.g. variable or parameter name), typo, etc.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "14935788"
	},
	"item": [
		{
			"name": "Admin",
			"item": []
		},
		{
			"name": "User",
			"item": [
				{
					"name": "Authentication",
					"item": [
						{
							"name": "Register retail",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mock-match-request-body",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"password\": \"my_secret_pass\",\n    \"password_confirmation\": \"my_secret_pass\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/register/retail",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"register",
										"retail"
									]
								},
								"description": "Register the user.\n\n#### Parameters\nParameter | Required | Type | Value | Description |\n--------- | -------- | ---- | ----- | ----------- |\nphone_number | true | string | +62818151010 | Telephone number |\npassword | true | string | my_secret_pass | SHA256 hashed password. |\npassword_confirmation | true | string | my_secret_pass | SHA256 hashed password. |\nreferral_code | false | string | 65e60076-9b6a-43ec-83cc-5aecaf99dbe2 | UUID string |"
							},
							"response": [
								{
									"name": "register retail success",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"password\": \"my_secret_pass\",\n    \"password_confirmation\": \"my_secret_pass\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://00ebe5df-a91b-4c2f-8e25-963aa902d6d1.mock.pstmn.io/auth/register/retail",
											"protocol": "https",
											"host": [
												"00ebe5df-a91b-4c2f-8e25-963aa902d6d1",
												"mock",
												"pstmn",
												"io"
											],
											"path": [
												"auth",
												"register",
												"retail"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"578\",\n    \"user_uuid\": \"cb8761f1-9011-4d6a-a45a-ed9c64f59bf0\",\n    \"phone_number\": \"+62818151010\"\n}"
								},
								{
									"name": "register retail error",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510161\",\n    \"password\": \"my_secret_pass\",\n    \"password_confirmation\": \"my_secret_pass\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/register/retail",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"register",
												"retail"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"We have existing user with phone number. Use 'Forgot password' to recover your account.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								}
							]
						},
						{
							"name": "Register institutional",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mock-match-request-body",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"legal_institution_name\": \"PT Jagadraya Jaring Tersebar\",\n    \"registration_country\": \"ID\",\n    \"password\": \"my_secret_pass\",\n    \"password_confirmation\": \"my_secret_pass\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/register/institutional",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"register",
										"institutional"
									]
								},
								"description": "Register user with institutional information.\n\n#### Parameters\n\n| Parameter | Required | Type | Value | Description |\n| --- | --- | --- | --- | --- |\n| phone_number | true | string | +62818151010 | Telephone number |\n| password | true | string | my_secret_pass | SHA256 hashed password. |\n| password_confirmation | true | string | my_secret_pass | SHA256 hashed password. |\n| legal_institution_name | true | string | PT Jagadraya Jaring Tersebar | Institution legal official name. |\n| registration_country | true | string | ID | ISO 3166-1 alpha 2-code. |\n| referral_code | false | string | 65e60076-9b6a-43ec-83cc-5aecaf99dbe2 | UUID string |"
							},
							"response": [
								{
									"name": "register institutional success",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"legal_institution_name\": \"PT Jagadraya Jaring Tersebar\",\n    \"registration_country\": \"ID\",\n    \"password\": \"my_secret_pass\",\n    \"password_confirmation\": \"my_secret_pass\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://00ebe5df-a91b-4c2f-8e25-963aa902d6d1.mock.pstmn.io/auth/register/institutional",
											"protocol": "https",
											"host": [
												"00ebe5df-a91b-4c2f-8e25-963aa902d6d1",
												"mock",
												"pstmn",
												"io"
											],
											"path": [
												"auth",
												"register",
												"institutional"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"3\",\n    \"legal_institution_name\": \"PT Jagadraya Jaring Tersebar\",\n    \"phone_number\": \"081318510160\",\n    \"registration_country\": \"ID\"\n}"
								}
							]
						},
						{
							"name": "Sign up OTP",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mock-match-request-body",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"password\": \"my_secret_pass\",\n    \"otp_token\": \"123456\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/sign-up-otp",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"sign-up-otp"
									]
								},
								"description": "In sign up journey, user will be provided with OTP sent to their phone to verify their phone number. After inserting this OTP, user will be automatically logged in without inserting phone number and password again.\n\nHowever, this API still requires phone number and password to be sent alongside the OTP token to prevent security risk. Imagine a following scenario:\n1. User A request an OTP.\n2. Attacker can use the API to input OTP sent to user A and gain access token.\n\nUser must not be asked to input phone number and password again. Thus, it is front end responsibility to save phone_number and password, and then forward it together with otp_token to gain access token.\n\n\n#### Parameters\n\n| Parameter | Required | Type | Value | Description |\n| --- | --- | --- | --- | --- |\n| phone_number | true | string | +62818151010 | Telephone number |\n| password | true | string | my_secret_pass | SHA256 hashed password. |\n| otp_token | false | string | 658388 | TOTP of the shared secret if OTP is activated |"
							},
							"response": [
								{
									"name": "Sign up OTP Success",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"password\": \"my_secret_pass\",\n    \"otp_token\": \"123456\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/sign-up-otp",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"sign-up-otp"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"token_type\": \"Bearer\",\n    \"expires_in\": 900,\n    \"access_token\": \"<access token>\",\n    \"refresh_token\": \"<refresh token>\"\n}"
								},
								{
									"name": "Sign up OTP Error - OTP mismatch",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"password\": \"my_secret_pass\",\n    \"otp_token\": \"123457\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/sign-up-otp",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"sign-up-otp"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"OTP is incorrect. Please try again.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								},
								{
									"name": "Sign up OTP Error - incorrect credentials",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"password\": \"my_leaked_pass\",\n    \"otp_token\": \"123456\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/sign-up-otp",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"sign-up-otp"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"User credentials were incorrect.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								}
							]
						},
						{
							"name": "Login without OTP",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mock-match-request-body",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"phone_number\": \"081318510162\",\n    \"password\": \"my_secret_pass\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/login-without-otp",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"login-without-otp"
									]
								},
								"description": "Authenticates the user and requests a pair of access and refresh tokens. Access token expires in 15 minutes. Refresh token expires in 7 days. Tokens should be removed from browser's store on window close or on application close.\n\n#### Parameters\n\n| Parameter | Required | Type | Value | Description |\n| --- | --- | --- | --- | --- |\n| phone_number | true | string | +62818151010 | Telephone number |\n| password | true | string | my_secret_pass | SHA256 hashed password. |"
							},
							"response": [
								{
									"name": "login without otp success",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"password\": \"my_secret_pass\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/login-without-otp",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"login-without-otp"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"token_type\": \"Bearer\",\n    \"expires_in\": 900,\n    \"access_token\": \"<access token>\",\n    \"refresh_token\": \"<refresh token>\"\n}"
								},
								{
									"name": "login without otp error - credential incorrect",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"password\": \"my_leaked_pass\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/login-without-otp",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"login-without-otp"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"User credentials were incorrect.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								},
								{
									"name": "login without otp error - new IP address",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510162\",\n    \"password\": \"my_secret_pass\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/login-without-otp",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"login-without-otp"
											]
										}
									},
									"status": "Forbidden",
									"code": 403,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 403,\n    \"error\": {\n        \"message\": \"You are logging in from unknown IP address. Please try to login with OTP to gain access.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								}
							]
						},
						{
							"name": "Login with OTP",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mock-match-request-body",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"password\": \"my_secret_pass\",\n    \"otp_token\": \"658389\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/login-with-otp",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"login-with-otp"
									]
								},
								"description": "In a case where user can't login without OTP (e.g. because of suspicious IP address), user will be told to login with OTP. To login with with OTP, user must first hit endpoint `auth/request-otp`. After getting OTP, user will submit that OTP alongside his / her credential (phone_number and passowrd).\n\nIf OTP is accepted, this endpoint authenticates the user and requests a pair of access and refresh tokens. Access token expires in 15 minutes. Refresh token expires in 7 days. Tokens should be removed from browser's store on window close.\n\n#### Parameters\n\n| Parameter | Required | Type | Value | Description |\n| --- | --- | --- | --- | --- |\n| phone_number | true | string | +62818151010 | Telephone number |\n| password | true | string | my_secret_pass | SHA256 hashed password. |\n| otp_token | false | string | 658388 | TOTP of the shared secret if OTP is activated |"
							},
							"response": [
								{
									"name": "login with OTP success",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"password\": \"my_secret_pass\",\n    \"otp_token\": \"658388\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "https://00ebe5df-a91b-4c2f-8e25-963aa902d6d1.mock.pstmn.io/auth/login-with-otp",
											"protocol": "https",
											"host": [
												"00ebe5df-a91b-4c2f-8e25-963aa902d6d1",
												"mock",
												"pstmn",
												"io"
											],
											"path": [
												"auth",
												"login-with-otp"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"token_type\": \"Bearer\",\n    \"expires_in\": 900,\n    \"access_token\": \"<access token>\",\n    \"refresh_token\": \"<refresh token>\"\n}"
								},
								{
									"name": "login with OTP error - credential incorrect",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510161\",\n    \"password\": \"my_secret_pass\",\n    \"otp_token\": \"658388\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/login-with-otp",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"login-with-otp"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"User credentials were incorrect.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								},
								{
									"name": "login with OTP error - otp incorrect",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"password\": \"my_secret_pass\",\n    \"otp_token\": \"658389\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/login-with-otp",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"login-with-otp"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"OTP is incorrect. Please try again.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								}
							]
						},
						{
							"name": "Refresh",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mock-match-request-body",
										"value": "true",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "Bearer <access_token>",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"refresh_token\": \"R3AJzxl81xrIZQSLPODp\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/refresh",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"refresh"
									]
								},
								"description": "Request new access token with refresh token."
							},
							"response": [
								{
									"name": "refresh success",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"refresh_token\": \"R3AJzxl81xrIZQSLPODp\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/refresh",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"refresh"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"token_type\": \"Bearer\",\n    \"expires_in\": 900,\n    \"access_token\": \"<access token>\",\n    \"refresh_token\": \"<refresh token>\",\n    \"is_otp_activated\": true\n}"
								},
								{
									"name": "refresh error",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"refresh_token\": \"R3AJzxl81xrIZQSLPODp123\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/refresh",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"refresh"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"Refresh token is not valid.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								}
							]
						},
						{
							"name": "Forgot password request",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mock-match-body-request",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"phone_number\": \"081318510160\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/forgot-password",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"forgot-password"
									]
								},
								"description": "Request for reset password link. Link will be sent to the phone number.\n\nWhen phone number is unknown, server will still respond with `200 OK`. This is to prevent malicious user to brute force and gain visibility to registered phone number.\n\n#### Parameters\n\n| Parameter | Required | Type | Value | Description |\n| --- | --- | --- | --- | --- |\n| phone_number | true | string | +62818151010 | Telephone number |"
							},
							"response": [
								{
									"name": "forgot password request success",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/forgot-password",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"forgot-password"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"message\": \"A link will be sent via SMS to reset your password.\"\n}"
								}
							]
						},
						{
							"name": "Verify reset password request",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mock-match-request-body",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"reset_id\": \"c3319fc5-f028-4aa3-9644-9cb03825f6af\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/verify-reset-id",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"verify-reset-id"
									]
								},
								"description": "When user clicked on the reset password link sent to their phone, it will open webpage and immediately gets redirected to mobile app.\n\nMobile app needs to verify the `reset_id` to determine three of possible cases:\n\n1.  Link has expired.\n2.  Link is invalid because reset_id is wrong.\n3.  Link is active and ready to use.\n    \n\nThus, here, backend provide api to check the `reset_id`."
							},
							"response": [
								{
									"name": "Verification success",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"reset_id\": \"c3319fc5-f028-4aa3-9644-9cb03825f6af\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/verify-reset-id",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"verify-reset-id"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"message\": \"Link is valid.\"\n}"
								},
								{
									"name": "Verification error - reset id incorrect",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"reset_id\": \"c3319fc5-f028-4aa3-9644-9cb03825f6ae\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/verify-reset-id",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"verify-reset-id"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"Link has incorrect reset_id.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								},
								{
									"name": "Verification error - reset id expired",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"reset_id\": \"c3319fc5-f028-4aa3-9644-9cb03825f6ag\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/verify-reset-id",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"verify-reset-id"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"Link has expired.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								}
							]
						},
						{
							"name": "Reset password",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mock-match-request-body",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"reset_id\": \"c3319fc5-f028-4aa3-9644-9cb03825f6af\",\n    \"new_password\": \"my_new_pass\",\n    \"confirm_password\": \"my_new_pass\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/reset-password/",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"reset-password",
										""
									]
								},
								"description": "When hitting this API, user must also provide `reset_id`. This reset id is created when user hit `forgot_password_request` api and sent as part of the link sent to the user (via SMS).\n\n`reset_id` ensures link has not expired, and request is made by the rightful owner.\n\nNote: `reset_id` would have been verified through `verify-reset-id` API, but must still be resubmitted here to prevent attack through time difference between verification and reset password submission.\n\n\n#### Parameters\n| Parameter | Required | Type | Value | Description |\n| --- | --- | --- | --- | --- |\n| reset_id | true | string | c3319fc5-f028-4aa3-9644-9cb03825f6af | UUID for reset process. User got this from the reset link sent via SMS. |\n| new_password | true | string | my_new_pass | New password to save |\n| confirm_password | true | string | my_new_pass | Value of this param must equal to `new_password`. |"
							},
							"response": [
								{
									"name": "reset password success",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"reset_id\": \"c3319fc5-f028-4aa3-9644-9cb03825f6af\",\n    \"new_password\": \"my_new_pass\",\n    \"confirm_password\": \"my_new_pass\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/reset-password/",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"reset-password",
												""
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"message\": \"Reset password successful.\"\n}"
								},
								{
									"name": "reset password error - wrong reset id",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"reset_id\": \"c3319fc5-f028-4aa3-9644-9cb03825f6ad\",\n    \"new_password\": \"my_new_pass\",\n    \"confirm_password\": \"my_new_pass\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/reset-password/",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"reset-password",
												""
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"Reset id is not recognized. Please send forget password request again.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								},
								{
									"name": "reset password error - reset id expired",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "x-mock-match-request-body",
												"value": "true",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"reset_id\": \"c3319fc5-f028-4aa3-9644-9cb03825f6ae\",\n    \"new_password\": \"my_new_pass\",\n    \"confirm_password\": \"my_new_pass\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/reset-password/",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"reset-password",
												""
											]
										}
									},
									"status": "Forbidden",
									"code": 403,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 403,\n    \"error\": {\n        \"message\": \"This link has expired. Please send forget password request again.\"\n    },\n    \"name\": \"Forbidden\"\n}"
								}
							]
						},
						{
							"name": "Change password",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer <access_token>",
										"type": "text"
									},
									{
										"key": "x-mock-response-name",
										"value": "change password error - password mismatch",
										"type": "text",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"old_password\": \"my_secret_pass\",\n    \"new_password\": \"my_new_super_pass\",\n    \"password_confirmation\": \"my_new_super_pass\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/change-password",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"change-password"
									]
								},
								"description": "Endpoint for user to change his / her password.\n\n#### Parameters\n\n| Parameter | Required | Type | Value | Description |\n| --- | --- | --- | --- | --- |\n| phone_number | true | string | +62818151010 | Telephone number |\n| old_password | true | string | my_secret_pass | Old Password |\n| new_password | true | string | my_new_super_pass | New Password |\n| password_confirmation | true | string | my_new_super_pass | Confirmation of New Password |"
							},
							"response": [
								{
									"name": "change password success",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"old_password\": \"my_secret_pass\",\n    \"new_password\": \"my_new_super_pass\",\n    \"password_confirmation\": \"my_new_super_pass\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/change-password",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"change-password"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"message\": \"Password has been updated. Please login to trade\"\n}"
								},
								{
									"name": "change password error - phone unknown",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"old_password\": \"my_secret_pass\",\n    \"new_password\": \"my_new_super_pass\",\n    \"password_confirmation\": \"my_new_super_pass\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/change-password",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"change-password"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"This phone number is unknown, please register first.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								},
								{
									"name": "change password error - password mismatch",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\",\n    \"old_password\": \"my_secret_pass\",\n    \"new_password\": \"my_new_super_pass\",\n    \"password_confirmation\": \"my_new_super_pass\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/change-password",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"change-password"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"The old password does not match with our internal database.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								}
							]
						},
						{
							"name": "Request OTP",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-mock-match-request-body",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"phone_number\": \"081318510160\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/request-otp",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"request-otp"
									]
								},
								"description": "Request an OTP for a specified phone number. Implement rate-limiting API on this endpoint. Maximum 1 time per minute, with total 5 times per 3 hours.\n\n#### Parameters\n\n| Parameter | Required | Type | Value | Description |\n| --- | --- | --- | --- | --- |\n| phone_number | true | string | +62818151010 | Telephone number |"
							},
							"response": [
								{
									"name": "request otp success",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510160\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/request-otp",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"request-otp"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": null,
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"otp_token\": \"123456\"\n}"
								},
								{
									"name": "request otp - phone unknown",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"phone_number\": \"081318510161\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/request-otp",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"request-otp"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 400,\n    \"error\": {\n        \"message\": \"This phone number is unknown, please register first.\"\n    },\n    \"name\": \"BadRequest\"\n}"
								}
							]
						},
						{
							"name": "Challenge OTP",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer <access_token>",
										"type": "text"
									},
									{
										"key": "x-mock-match-request-body",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"otp_token\": \"123456\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/auth/challenge-otp",
									"host": [
										"{{url}}"
									],
									"path": [
										"auth",
										"challenge-otp"
									]
								},
								"description": "#### Parameters\n\n| Parameter | Required | Type | Value | Description |\n| --- | --- | --- | --- | --- |\n| otp_token | true | string | 556038 | One time passcode/ 2-Factor Authentication token |"
							},
							"response": [
								{
									"name": "challenge OTP success",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer <access_token>",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"otp_token\": \"123456\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/challenge-otp",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"challenge-otp"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"message\": \"OTP accepted.\"\n}"
								},
								{
									"name": "challenge OTP error - challenge code mismatch",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer <access_token>",
												"type": "text"
											},
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"otp_token\": \"123457\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/auth/challenge-otp",
											"host": [
												"{{url}}"
											],
											"path": [
												"auth",
												"challenge-otp"
											]
										}
									},
									"status": "Forbidden",
									"code": 403,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "Content-Type",
											"value": "application/json",
											"description": "",
											"type": "text"
										}
									],
									"cookie": [],
									"body": "{\n    \"statusCode\": 403,\n    \"error\": {\n        \"message\": \"OTP failed to match.\"\n    },\n    \"name\": \"Forbidden\"\n}"
								}
							]
						}
					],
					"description": "This endpoint collection host all endpoints related to user authentication.",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"",
									"const api_key = pm.environment.get(\"api_key\");",
									"pm.request.headers.add({ key: 'x-api-key', value: api_key });"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				}
			]
		}
	]
}